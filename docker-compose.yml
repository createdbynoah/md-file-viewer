services:
  viewer:
    build: .
    ports:
      - "${PORT:-3000}:3000"
    environment:
      - ACCESS_PASSWORD=${ACCESS_PASSWORD:-changeme}
      - COOKIE_SECRET=${COOKIE_SECRET:-change-this}
      - PORT=3000
      - WATCH_DIR=/app/data/watch
    volumes:
      - ./data/uploads:/app/data/uploads
      - ./data/watch:/app/data/watch
      - history:/app/data
    restart: unless-stopped

volumes:
  history:
